!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function i(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}n.r(e);var u=new WeakMap,l=new WeakMap,a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u.set(this,{writable:!0,value:void 0}),l.set(this,{writable:!0,value:void 0}),i(this,u,e),i(this,l,n)}var e,n,a;return e=t,(n=[{key:"width",get:function(){return o(this,u)}},{key:"height",get:function(){return o(this,l)}}])&&r(e.prototype,n),a&&r(e,a),t}();function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function f(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var p=new WeakMap,h=new WeakMap,y=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p.set(this,{writable:!0,value:void 0}),h.set(this,{writable:!0,value:void 0}),f(this,p,e),f(this,h,n)}var e,n,r;return e=t,(n=[{key:"x",get:function(){return s(this,p)}},{key:"y",get:function(){return s(this,h)}}])&&c(e.prototype,n),r&&c(e,r),t}();function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?w(t):e}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){var e="function"==typeof Map?new Map:void 0;return(b=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return m(t,arguments,E(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),S(r,t)})(t)}function m(t,e,n){return(m=g()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&S(o,n.prototype),o}).apply(null,arguments)}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(o,t);var e,n,r=(e=o,n=g(),function(){var t,r=E(e);if(n){var o=E(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return v(this,t)});function o(t){var e,n,i,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=r.call(this,"Необходимо определить метод ".concat(t,".")),n=w(e),u="NotImplementedMethod",(i="name")in n?Object.defineProperty(n,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[i]=u,e}return o}(b(Error));function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var A=new WeakSet,C=new WeakSet,N=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),C.add(this),A.add(this)}var e,n,r;return e=t,(n=[{key:"init",value:function(){throw new _("init")}},{key:"destroy",value:function(){throw new _("destroy")}},{key:"render",value:function(){return this._node}},{key:"clear",value:function(){throw new _("clear")}},{key:"createNode",value:function(e,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=document.createElementNS(t.SVG_NAMESPACE_URI,"g");u.classList.add("crossword__cell");var l=document.createElementNS(t.SVG_NAMESPACE_URI,"rect");return l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",n),l.setAttributeNS(null,"width",r),l.setAttributeNS(null,"height",o),u.appendChild(l),null!==i&&u.appendChild(T(this,C,P).call(this,new y(e+r/2,n+o/2),i)),u.appendChild(T(this,A,x).call(this,e+15,n+15)),u}}])&&k(e.prototype,n),r&&k(e,r),t}();O(N,"WIDTH",100),O(N,"HEIGHT",100),O(N,"SVG_NAMESPACE_URI","http://www.w3.org/2000/svg");var x=function(t,e){var n=document.createElementNS(N.SVG_NAMESPACE_URI,"svg");n.classList.add("crossword__cross"),n.setAttributeNS(null,"viewBox","0 0 100 100"),n.setAttributeNS(null,"x",t),n.setAttributeNS(null,"y",e),n.setAttributeNS(null,"width",70),n.setAttributeNS(null,"height",70);var r=document.createElementNS(N.SVG_NAMESPACE_URI,"line");r.setAttributeNS(null,"x1","10"),r.setAttributeNS(null,"y1","10"),r.setAttributeNS(null,"x2","100"),r.setAttributeNS(null,"y2","100"),r.setAttributeNS(null,"stroke","black"),r.setAttributeNS(null,"stroke-width","10");var o=document.createElementNS(N.SVG_NAMESPACE_URI,"line");return o.setAttributeNS(null,"x1","100"),o.setAttributeNS(null,"y1","10"),o.setAttributeNS(null,"x2","10"),o.setAttributeNS(null,"y2","100"),o.setAttributeNS(null,"stroke","black"),o.setAttributeNS(null,"stroke-width","10"),n.appendChild(r),n.appendChild(o),n},P=function(t,e){var n=t.x,r=t.y,o=document.createElementNS(N.SVG_NAMESPACE_URI,"text");return o.classList.add("crossword__text"),o.setAttributeNS(null,"x",n),o.setAttributeNS(null,"y",r),o.setAttributeNS(null,"dominant-baseline","middle"),o.setAttributeNS(null,"text-anchor","middle"),o.textContent=e,o};function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=G(t);if(e){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?D(t):e}function D(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function F(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var U=new WeakMap,z=new WeakMap,B=new WeakMap,V=new WeakMap,K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(i,t);var e,n,r,o=H(i);function i(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N.WIDTH,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N.HEIGHT;return R(this,i),n=o.call(this),U.set(D(n),{writable:!0,value:null}),z.set(D(n),{writable:!0,value:null}),B.set(D(n),{writable:!0,value:null}),V.set(D(n),{writable:!0,value:null}),F(D(n),U,n.createNode(t,e,r,u)),F(D(n),z,q(D(n),U).querySelector(".crossword__cross")),n}return e=i,(n=[{key:"init",value:function(t,e){q(this,U).addEventListener("click",t),q(this,U).addEventListener("contextmenu",e),F(this,B,t),F(this,V,e)}},{key:"destroy",value:function(){q(this,U).removeEventListener("click",q(this,B)),q(this,U).removeEventListener("contextmenu",q(this,V))}},{key:"render",value:function(){return q(this,U)}},{key:"fill",value:function(){this.isCrossShown()||q(this,U).classList.add("crossword__cell--black")}},{key:"showCross",value:function(){this.isFilled()||q(this,z).classList.add("crossword__cross--show")}},{key:"clear",value:function(){q(this,U).classList.remove("crossword__cell--black"),q(this,z).classList.remove("crossword__cross--show")}},{key:"isFilled",value:function(){return q(this,U).classList.contains("crossword__cell--black")}},{key:"isCrossShown",value:function(){return q(this,z).classList.contains("crossword__cross--show")}},{key:"value",get:function(){return q(this,U).classList.contains("crossword__cell--black")?1:0}}])&&W(e.prototype,n),r&&W(e,r),i}(N);function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=et(t);if(e){var o=et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?tt(t):e}function tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nt(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function rt(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var ot=new WeakMap,it=new WeakMap,ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(i,t);var e,n,r,o=X(i);function i(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N.WIDTH,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:N.HEIGHT;return $(this,i),n=o.call(this),ot.set(tt(n),{writable:!0,value:null}),it.set(tt(n),{writable:!0,value:null}),rt(tt(n),ot,n.createNode(t,e,u,l,r)),rt(tt(n),it,nt(tt(n),ot).querySelector(".crossword__cross")),n}return e=i,(n=[{key:"init",value:function(t){nt(this,ot).addEventListener("click",t)}},{key:"destroy",value:function(){}},{key:"showCross",value:function(){nt(this,it).classList.add("crossword__cross--show")}},{key:"hideCross",value:function(){nt(this,it).classList.remove("crossword__cross--show")}},{key:"check",value:function(){this.isChecked()?this.hideCross():this.showCross()}},{key:"isChecked",value:function(){return nt(this,it).classList.contains("crossword__cross--show")}},{key:"render",value:function(){return nt(this,ot)}},{key:"clear",value:function(){}}])&&J(e.prototype,n),r&&J(e,r),i}(N);function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function at(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function ct(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function st(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var ft,pt,ht,yt=new WeakMap,dt=new WeakMap,vt=new WeakMap,wt=new WeakMap,bt=new WeakMap,mt=new WeakMap,gt=new WeakMap,St=new WeakMap,Et=new WeakMap,_t=new WeakSet,kt=new WeakSet,Ot=new WeakSet,Tt=new WeakSet,jt=new WeakSet,At=new WeakSet,Ct=new WeakSet,Nt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ct.add(this),At.add(this),jt.add(this),Tt.add(this),Ot.add(this),kt.add(this),_t.add(this),yt.set(this,{writable:!0,value:30}),dt.set(this,{writable:!0,value:30}),vt.set(this,{writable:!0,value:"http://www.w3.org/2000/svg"}),wt.set(this,{writable:!0,value:1}),bt.set(this,{writable:!0,value:5}),mt.set(this,{writable:!0,value:void 0}),gt.set(this,{writable:!0,value:"filling"}),St.set(this,{writable:!0,value:[]}),Et.set(this,{writable:!0,value:null}),st(this,mt,e),document.addEventListener("actionchange",(function(t){var e=t.detail;st(n,gt,e)}))}var e,n,r;return e=t,(n=[{key:"init",value:function(){for(var t=this,e=new Event("starttimer"),n=new Event("pausetimer"),r=function(r,o){for(var i=function(i){o[r][i].init((function(){switch(document.dispatchEvent(e),ct(t,gt)){case"filling":o[r][i].fill(),t.isSolved()&&(document.dispatchEvent(n),alert("Поздравляем! Вы решили кроссворд!"),t.destroy(),ct(t,St).forEach((function(t){t.forEach((function(t){t.isCrossShown()&&t.clear()}))})));break;case"emptying":o[r][i].showCross();break;case"clearing":o[r][i].clear()}}),(function(t){t.preventDefault(),document.dispatchEvent(e),o[r][i].showCross()}))},u=0;u<o[r].length;u++)i(u)},o=0,i=ct(this,St);o<i.length;o++)r(o,i)}},{key:"destroy",value:function(){for(var t=0,e=ct(this,St);t<e.length;t++)for(var n=0;n<e[t].length;n++)e[t][n].destroy()}},{key:"render",value:function(t){st(this,Et,t);var e=t.length,n=t[0].length,r=at(this,Ot,Mt).call(this,t),o={left:r.left.reduce((function(t,e){return e.length>t?e.length:t}),0),top:r.top.reduce((function(t,e){return e.length>t?e.length:t}),0)},i=o.top*K.HEIGHT,u=o.left*K.WIDTH,l=at(this,Ct,Ht).call(this,r.left,new y(0,i),o.left),c=at(this,Ct,Ht).call(this,r.top,new y(u,0),o.top,!1),s=new a(K.WIDTH*n+n+5,K.HEIGHT*e+e+5),f=at(this,Tt,Rt).call(this,t,new y(u,i),s),p=new a(ct(this,yt)*(n+o.left),ct(this,dt)*(e+o.top));at(this,_t,xt).call(this,new a(0,0),new y(s.width+u,s.height+i)),at(this,kt,Pt).call(this,p),ct(this,mt).appendChild(l),ct(this,mt).appendChild(c),ct(this,mt).appendChild(f)}},{key:"fill",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.ECell.BLACK;switch(r){case t.ECell.BLACK:ct(this,St)[n][e].fill()}}},{key:"isSolved",value:function(){for(var t=0;t<ct(this,St).length;t++)for(var e=0;e<ct(this,St)[t].length;e++)if(ct(this,Et)[t][e]!==ct(this,St)[t][e].value)return!1;return!0}}])&&lt(e.prototype,n),r&&lt(e,r),t}();ht={EMPTY:0,BLACK:1},(pt="ECell")in(ft=Nt)?Object.defineProperty(ft,pt,{value:ht,enumerable:!0,configurable:!0,writable:!0}):ft[pt]=ht;var xt=function(t,e){var n=t.width,r=t.height,o=e.x,i=e.y;ct(this,mt).setAttribute("viewBox","".concat(n," ").concat(r," ").concat(o," ").concat(i))},Pt=function(t){var e=t.width,n=t.height;ct(this,mt).setAttribute("width",e),ct(this,mt).setAttribute("height",n)},Mt=function(t){for(var e={left:[],top:[]},n=0;n<t.length;n++){var r=0;e.left.push([]);for(var o=0;o<t[n].length;o++)t[n][o]===Nt.ECell.EMPTY&&0!==r?(e.left[n].push(r),r=0):t[n][o]===Nt.ECell.BLACK&&r++;0!==r&&e.left[n].push(r)}for(var i=0;i<t[0].length;i++){var u=0;e.top.push([]);for(var l=0;l<t.length;l++)t[l][i]===Nt.ECell.EMPTY&&0!==u?(e.top[i].push(u),u=0):t[l][i]===Nt.ECell.BLACK&&u++;0!==u&&e.top[i].push(u)}return e},Rt=function(t,e,n){var r=document.createElementNS(ct(this,vt),"svg"),o=at(this,jt,Wt).call(this,n);r.classList.add("crossword__field"),r.setAttributeNS(null,"x",e.x),r.setAttributeNS(null,"y",e.y),r.appendChild(o);for(var i=1,u=0;u<t.length;u++,i+=K.HEIGHT+ct(this,u%5==0?bt:wt)){for(var l=[],a=at(this,At,It).call(this),c=1,s=0;s<t[0].length;s++,c+=K.WIDTH+ct(this,s%5==0?bt:wt)){var f=new K(c,i);a.appendChild(f.render()),l.push(f)}r.appendChild(a),ct(this,St).push(l)}return r},Wt=function(t){var e=t.width,n=t.height,r=document.createElementNS(ct(this,vt),"rect");return r.classList.add("crossword__background"),r.setAttributeNS(null,"x",0),r.setAttributeNS(null,"y",0),r.setAttributeNS(null,"width",e),r.setAttributeNS(null,"height",n),r},It=function(){var t=document.createElementNS(ct(this,vt),"g");return t.classList.add("crossword__row"),t},Ht=function(t,e,n){var r=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=document.createElementNS(ct(this,vt),"svg");i.classList.add("crossword__hint"),i.setAttributeNS(null,"x",e.x),i.setAttributeNS(null,"y",e.y);var u=at(this,jt,Wt).call(this,new a(o?n*K.WIDTH+n+1:t.length*K.WIDTH+t.length+5,o?t.length*K.HEIGHT+t.length+1:n*K.HEIGHT+n+1));i.appendChild(u);var l=1,c=1;return t.forEach((function(t,e){var u,a=at(r,At,It).call(r);for(o?l=ct(r,wt):c=ct(r,wt),u=0;u<n-t.length;u++){var s=new ut(l,c);a.appendChild(s.render()),o?l+=K.WIDTH+ct(r,wt):c+=K.HEIGHT+ct(r,wt)}for(var f=function(e,n){var i=new ut(l,c,t[n]);i.init((function(){console.log("here"),i.check()})),a.appendChild(i.render()),o?l+=K.WIDTH+ct(r,wt):c+=K.HEIGHT+ct(r,wt)},p=u,h=p-u;p-u<t.length;h=++p-u)f(0,h);o?c+=K.HEIGHT+ct(r,(e+1)%5==0?bt:wt):l+=K.WIDTH+ct(r,(e+1)%5==0?bt:wt),i.appendChild(a)})),i},Lt=Nt;function Dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,l=t[Symbol.iterator]();!(r=(u=l.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Gt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var qt=function(t){return t.map((function(t){return t.map((function(t){var e=Dt(t.split("/"),2),n=e[0],r=e[1];return n.repeat(Number(r)).split("").map((function(t){return Number(t)}))})).flat(1)}))};function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ut(t,e){return!e||"object"!==Ft(e)&&"function"!=typeof e?zt(t):e}function zt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bt(t){var e="function"==typeof Map?new Map:void 0;return(Bt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Vt(t,arguments,$t(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Yt(r,t)})(t)}function Vt(t,e,n){return(Vt=Kt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Yt(o,n.prototype),o}).apply(null,arguments)}function Kt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Yt(t,e){return(Yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yt(t,e)}(o,t);var e,n,r=(e=o,n=Kt(),function(){var t,r=$t(e);if(n){var o=$t(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Ut(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(zt(e=r.call(this,"Переменная ".concat(t," должна быть непустой строкой."))),"name","EmptyStringError"),e}return o}(Bt(Error));function Qt(t){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){return!e||"object"!==Qt(e)&&"function"!=typeof e?Zt(t):e}function Zt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function te(t){var e="function"==typeof Map?new Map:void 0;return(te=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return ee(t,arguments,oe(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),re(r,t)})(t)}function ee(t,e,n){return(ee=ne()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&re(o,n.prototype),o}).apply(null,arguments)}function ne(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oe(t){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ie=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(o,t);var e,n,r=(e=o,n=ne(),function(){var t,r=oe(e);if(n){var o=oe(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Xt(this,t)});function o(t,e,n,i){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Zt(u=r.call(this,"Ошибка в рисунке ".concat(e,": строка ").concat(n,", столбец ").concat(i,". ")+"Переменная ".concat(t," должна быть представлена в виде value/count, где ")+"element – значение ячейки, а count – количество таких ячеек подряд.")),"name","ImageEncryptionError"),u}return o}(te(Error));function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){return!e||"object"!==ue(e)&&"function"!=typeof e?ae(t):e}function ae(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ce(t){var e="function"==typeof Map?new Map:void 0;return(ce=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return se(t,arguments,he(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),pe(r,t)})(t)}function se(t,e,n){return(se=fe()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&pe(o,n.prototype),o}).apply(null,arguments)}function fe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function pe(t,e){return(pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function he(t){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Error;var ye,de=function(t){var e=t.id,n=t.image,r=t.level,o=t.title,i=t.size,u=t.source;return function(t){if("number"!=typeof t)throw new TypeError("Поле id должно быть числом.")}(e),function(t){if("number"!=typeof t)throw new TypeError("Переменная level должна быть числом.");if(t<1||t>5)throw new RangeError("Переменная level должна быть в диапазоне от 1 до 5.")}(r),function(t){if("string"!=typeof t)throw new TypeError("Поле title должно быть строкой.");if(0===t.length)throw new Jt("title")}(o),function(t,e){if(!Array.isArray(t)||!t.every((function(t){return Array.isArray(t)})))throw new TypeError("Переменная image должна быть двумерным массивом.");var n,r;if(!t.every((function(t,e){return t.every((function(t){var o=/^\d+\/\d+$/.test(t);return o||(n=e,r=j),o}))})))throw console.log(n,r),new ie("image",e,n,r)}(n,o),function(t){if(!/^\d+x\d+$/.test(t))throw new InvalidSize("size","{width}x{height}")}(i),{id:e,image:n,level:r,title:o,size:i,source:u}},ve=[["0/3","1/3"],["0/2","1/1","0/2","1/1"],["0/2","1/1","0/2","1/2"],["0/1","1/1","0/3","1/1"],["0/1","1/5"],["0/1","1/1","0/3","1/1"],["0/1","1/1","0/3","1/1"],["1/2","0/3","1/1"]],we=[de({id:1,image:[["0/3","1/2","0/5"],["0/2","1/1","0/1","1/2","0/4"],["1/4","0/1","1/1","0/4"],["0/2","1/1","0/2","1/3","0/1","1/1"],["0/3","1/3","0/2","1/2"],["0/2","1/2","0/1","1/2","0/1","1/1","0/1"],["0/2","1/2","0/4","1/1","0/1"],["0/3","1/6","0/1"],["0/5","1/2","0/3"],["0/4","1/2","0/4"]],level:1,title:"Утка",size:"10x10",source:"img/duck.jpg"}),de({id:2,image:[["1/2","0/6","1/2","0/7","1/2","0/1"],["1/3","0/4","1/1","0/2","1/7","0/2","1/1"],["1/3","0/4","1/1","0/1","1/9","0/1","1/1"],["1/4","0/3","1/13"],["1/4","0/5","1/1","0/1","1/3","0/1","1/3","0/2"],["0/1","1/4","0/4","1/2","0/2","1/5","0/2"],["0/1","1/5","0/3","1/2","0/2","1/5","0/2"],["0/2","1/4","0/3","1/2","0/2","1/5","0/2"],["0/2","1/4","0/4","1/7","0/3"],["0/2","1/5","0/4","1/7","0/2"],["0/3","1/3","0/4","1/9","0/1"],["0/3","1/2","0/1","1/7","0/1","1/6"],["0/4","1/1","0/1","1/5","0/2","1/7"],["0/4","1/2","0/5","1/9"],["0/5","1/6","0/1","1/2","0/2","1/4"],["0/6","1/5","0/3","1/6"],["0/7","1/3","0/1","1/8","0/1"],["0/7","1/3","0/1","1/4","0/5"],["0/8","1/3","0/9"],["0/9","1/4","0/7"]],level:2,title:"Коала",size:"20x20",source:"img/koala.jpg"}),de({id:3,image:[["0/4","1/1","0/10"],["0/4","1/2","0/9"],["0/4","1/3","0/8"],["0/4","1/4","0/7"],["0/4","1/5","0/6"],["0/4","1/6","0/5"],["0/4","1/7","0/4"],["0/4","1/8","0/3"],["0/4","1/9","0/2"],["0/4","1/10","0/1"],["1/15"],["0/4","1/1","0/10"],["1/14","0/1"],["0/1","1/12","0/2"],["0/2","1/10","0/3"]],level:1,title:"Парусник",size:"15x15",source:"img/sailboat.jpg"})],be=function(t,e){null!==t&&0!==(null==t?void 0:t.length)&&e(t)},me=null===(ye=document.querySelector("#catalog-item"))||void 0===ye?void 0:ye.content,ge=function(){var t=document.createDocumentFragment();return we.forEach((function(e){var n=function(t){var e=t.source,n=t.title,r=t.href,o=t.infos,i=me.querySelector(".catalog__item").cloneNode(!0),u=i.querySelector(".catalog__item-image img"),l=i.querySelector(".catalog__info-list"),a=i.querySelector(".catalog__item-name a");return u.src=e,u.alt=n,a.textContent=n,a.href=r,l.innerHTML="",o.forEach((function(t){var e=me.querySelector(".catalog__info-item").cloneNode(!0),n=e.querySelectorAll("span");n[0].textContent=t.key,n[1].textContent=t.value,l.appendChild(e)})),i}({source:e.source,title:e.title,href:"crossword.html?id=".concat(e.id),infos:[{key:"Размер:",value:e.size},{key:"Сложность:",value:e.level}]});t.appendChild(n)})),t};function Se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ee(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function _e(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var ke=new WeakMap,Oe=new WeakMap,Te=new WeakMap,je=new WeakMap,Ae=new WeakMap,Ce=new WeakSet,Ne=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ce.add(this),ke.set(this,{writable:!0,value:1e3}),Oe.set(this,{writable:!0,value:null}),Te.set(this,{writable:!0,value:null}),je.set(this,{writable:!0,value:0}),Ae.set(this,{writable:!0,value:null}),_e(this,Te,e.querySelector(".timer__value"))}var e,n,r;return e=t,(n=[{key:"init",value:function(){var t=this;document.addEventListener("starttimer",(function(){Ee(t,Ae)||t.start()})),document.addEventListener("pausetimer",(function(){t.pause()}))}},{key:"start",value:function(){var t=this;_e(this,Ae,setInterval((function(){_e(t,je,+Ee(t,je)+1),function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}(t,Ce,xe).call(t)}),Ee(this,ke)))}},{key:"stop",value:function(){clearInterval(Ee(this,Ae)),_e(this,je,0)}},{key:"pause",value:function(){clearInterval(Ee(this,Ae))}},{key:"time",get:function(){return Ee(this,je)}}])&&Se(e.prototype,n),r&&Se(e,r),t}(),xe=function(){Ee(this,Te).textContent=Ee(this,je)},Pe=Ne;be(document.querySelector(".j-crossword"),(function(t){var e=new Lt(t),n=new URLSearchParams(window.location.search),r=Number(n.get("id"));e.render(qt(we.find((function(t){return t.id===r})).image)),e.init()})),be(document.querySelector(".j-actions"),(function(t){t.addEventListener("change",(function(t){var e=t.target,n=new CustomEvent("actionchange",{detail:e.value});document.dispatchEvent(n)}))})),be(document.querySelector(".timer"),(function(t){new Pe(t).init()})),be(document.querySelector(".j-catalog"),(function(t){var e=ge();t.appendChild(e)})),be(document.querySelectorAll(".j-crossword-example"),(function(t){t.forEach((function(t){var e=Number(t.dataset.step),n=new Lt(t);switch(n.render(qt(ve)),e){case 5:n.fill(1,5),n.fill(1,6),n.fill(1,7),n.fill(0,7);case 4:n.fill(2,1),n.fill(2,2);case 3:n.fill(3,0),n.fill(4,0),n.fill(2,4),n.fill(3,4),n.fill(4,4);case 2:n.fill(1,3),n.fill(1,4);case 1:n.fill(5,0),n.fill(5,1),n.fill(5,2),n.fill(5,3),n.fill(5,4),n.fill(5,5),n.fill(5,6),n.fill(5,7)}}))}))}]);